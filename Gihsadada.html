<!DOCTYPE html>
<!-- saved from url=(0040)http://bl.ocks.org/mbostock/raw/1096355/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<style>

body {
  background: #222;
  margin: auto;
  width: 960px;
}

.arc-text {
  font: 16px sans-serif;
}

.arc-center {
  fill: none;
}

#credit {
  position: absolute;
  font: 10px sans-serif;
  right: 10px;
  bottom: 10px;
  color: #ddd;
}

#credit a {
  color: inherit;
}

</style>
</head><body><div id="credit">Inspired by <a href="http://blog.pixelbreaker.com/polarclock/">pixelbreaker</a>.</div>
<script src="./1096355_files/d3.v3.min.js"></script>
<script>

var width = 960,
    height = 800,
    radius = Math.min(width, height) / 1.9,
    spacing = .09;

var formatSecond = d3.time.format("%-S seconds"),
    formatMinute = d3.time.format("%-M minutes"),
    formatHour = d3.time.format("%-H hours"),
    formatDay = d3.time.format("%A"),
    formatDate = function(d) { d = d.getDate(); switch (10 <= d && d <= 19 ? 10 : d % 10) { case 1: d += "st"; break; case 2: d += "nd"; break; case 3: d += "rd"; break; default: d += "th"; break; } return d; },
    formatMonth = d3.time.format("%B");

var color = d3.scale.linear()
    .range(["hsl(-180,60%,50%)", "hsl(180,60%,50%)"])
    .interpolate(function(a, b) { var i = d3.interpolateString(a, b); return function(t) { return d3.hsl(i(t)); }; });

var arcBody = d3.svg.arc()
    .startAngle(0)
    .endAngle(function(d) { return d.value * 2 * Math.PI; })
    .innerRadius(function(d) { return d.index * radius; })
    .outerRadius(function(d) { return (d.index + spacing) * radius; })
    .cornerRadius(6);

var arcCenter = d3.svg.arc()
    .startAngle(0)
    .endAngle(function(d) { return d.value * 2 * Math.PI; })
    .innerRadius(function(d) { return (d.index + spacing / 2) * radius; })
    .outerRadius(function(d) { return (d.index + spacing / 2) * radius; });

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

var field = svg.selectAll("g")
    .data(fields)
  .enter().append("g");

field.append("path")
    .attr("class", "arc-body");

field.append("path")
    .attr("id", function(d, i) { return "arc-center-" + i; })
    .attr("class", "arc-center");

field.append("text")
    .attr("dy", ".35em")
    .attr("dx", ".75em")
    .style("text-anchor", "start")
  .append("textPath")
    .attr("startOffset", "50%")
    .attr("class", "arc-text")
    .attr("xlink:href", function(d, i) { return "#arc-center-" + i; });

tick();

d3.select(self.frameElement).style("height", height + "px");

function tick() {
  if (!document.hidden) field
      .each(function(d) { this._value = d.value; })
      .data(fields)
      .each(function(d) { d.previousValue = this._value; })
    .transition()
      .ease("elastic")
      .duration(500)
      .each(fieldTransition);

  setTimeout(tick, 1000 - Date.now() % 1000);
}

function fieldTransition() {
  var field = d3.select(this).transition();

  field.select(".arc-body")
      .attrTween("d", arcTween(arcBody))
      .style("fill", function(d) { return color(d.value); });

  field.select(".arc-center")
      .attrTween("d", arcTween(arcCenter));

  field.select(".arc-text")
      .text(function(d) { return d.text; });
}

function arcTween(arc) {
  return function(d) {
    var i = d3.interpolateNumber(d.previousValue, d.value);
    return function(t) {
      d.value = i(t);
      return arc(d);
    };
  };
}

function fields() {
  var now = new Date;
  return [
    {index: .7, text: formatSecond(now), value: now.getSeconds() / 60},
    {index: .6, text: formatMinute(now), value: now.getMinutes() / 60},
    {index: .5, text: formatHour(now),   value: now.getHours() / 24},
    {index: .3, text: formatDay(now),    value: now.getDay() / 7},
    {index: .2, text: formatDate(now),   value: (now.getDate() - 1) / (32 - new Date(now.getYear(), now.getMonth(), 32).getDate())},
    {index: .1, text: formatMonth(now),  value: now.getMonth() / 12}
  ];
}

</script><svg width="960" height="800"><g transform="translate(480,400)"><g><path class="arc-body" d="M1.9539925233402755e-14,-326.57646633774914A6,6 0 0,1 6.110215920077365,-332.57545395658633A332.63157894736844,332.63157894736844 0 0,1 129.68866371271014,-306.30804399726594A6,6 0 0,1 132.8306156257732,-298.3424473958225L122.29634677879538,-274.6820921793167A6,6 0 0,1 114.48449677711983,-271.59364147909A294.7368421052632,294.7368421052632 0 0,0 5.880294014700753,-294.6781774011837A6,6 0 0,1 1.7763568394002505e-14,-300.6769831554221Z" style="fill: rgb(51, 143, 204);"></path><path id="arc-center-0" class="arc-center" d="M1.920761821820586e-14,-313.68421052631584A313.68421052631584,313.68421052631584 0 0,1 127.5868627753563,-286.5647856605212L127.5868627753563,-286.5647856605212A313.68421052631584,313.68421052631584 0 0,0 1.920761821820586e-14,-313.68421052631584Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-0">love</textpath></text></g><g><path class="arc-body" d="M1.687538997430238e-14,-284.4630457137294A6,6 0 0,1 6.126526082130983,-290.46171149459605A290.5263157894737,290.5263157894737 0 1,1 -274.3523027753186,95.58427761972617A6,6 0 0,1 -270.5404332712084,87.90391539720002L-245.9070488227696,79.90004360502486A6,6 0 0,1 -238.39115688060554,83.62039824448917A252.63157894736844,252.63157894736844 0 1,0 5.860805860805875,-252.56358731238828A6,6 0 0,1 1.4210854715202004e-14,-258.5619725110575Z" style="fill: rgb(173, 204, 51);"></path><path id="arc-center-1" class="arc-center" d="M1.662941443052722e-14,-271.5789473684211A271.5789473684211,271.5789473684211 0 1,1 -258.28692758331545,83.92251005130154L-258.28692758331545,83.92251005130154A271.5789473684211,271.5789473684211 0 1,0 1.662941443052722e-14,-271.5789473684211Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-1">love</textpath></text></g><g><path class="arc-body" d="M1.5211402347303967e-14,-248.42105263157896A248.42105263157896,248.42105263157896 0 0,1 1.5211402347303967e-14,-248.42105263157896L1.2891018938393193e-14,-210.5263157894737A210.5263157894737,210.5263157894737 0 0,0 1.2891018938393193e-14,-210.5263157894737Z" style="fill: rgb(51, 204, 204);"></path><path id="arc-center-2" class="arc-center" d="M1.4051210642848582e-14,-229.47368421052636A229.47368421052636,229.47368421052636 0 0,1 1.4051210642848582e-14,-229.47368421052636L1.4051210642848582e-14,-229.47368421052636A229.47368421052636,229.47368421052636 0 0,0 1.4051210642848582e-14,-229.47368421052636Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-2">love</textpath></text></g><g><path class="arc-body" d="M1.0658141036401503e-14,-158.09671292319493A6,6 0 0,1 6.227544910179652,-164.09239664682906A164.21052631578948,164.21052631578948 0 0,1 124.40979099000808,-107.17882654111817A6,6 0 0,1 123.60498743806403,-98.57168821499991L103.3422361695475,-82.41268329281479A6,6 0 0,1 95.08477074787122,-83.15386366360188A126.31578947368422,126.31578947368422 0 0,0 5.727923627684973,-126.18585325334817A6,6 0 0,1 8.881784197001252e-15,-132.1796812828822Z" style="fill: rgb(51, 73, 204);"></path><path id="arc-center-3" class="arc-center" d="M8.894803067491303e-15,-145.26315789473685A145.26315789473685,145.26315789473685 0 0,1 113.5713100848296,-90.57009753316339L113.5713100848296,-90.57009753316339A145.26315789473685,145.26315789473685 0 0,0 8.894803067491303e-15,-145.26315789473685Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-3">Love</textpath></text></g><g><path class="arc-body" d="M4.440892098500626e-15,-115.9501277833017A6,6 0 0,1 6.310063463281963,-121.94211081471438A122.10526315789475,122.10526315789475 0 0,1 86.39839206839729,-86.28448956130086A6,6 0 0,1 86.16773747560332,-77.58577931102775L66.89103937528039,-60.2289623807885A6,6 0 0,1 58.694287735941415,-60.38537347365495A84.21052631578948,84.21052631578948 0 0,0 5.600933488914822,-84.02405778367898A6,6 0 0,1 2.6645352591003757e-15,-90.0107719007661Z" style="fill: rgb(51, 82, 204);"></path><path id="arc-center-4" class="arc-center" d="M6.316599279812664e-15,-103.15789473684211A103.15789473684211,103.15789473684211 0 0,1 76.66125568082593,-69.02610465596644L76.66125568082593,-69.02610465596644A103.15789473684211,103.15789473684211 0 0,0 6.316599279812664e-15,-103.15789473684211Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-4">Love</textpath></text></g><g><path class="arc-body" d="M4.440892098500626e-15,-73.7563556583431A6,6 0 0,1 6.486486486486491,-79.73660071172226A80,80 0 0,1 45.48576243446289,65.81067858452458A6,6 0 0,1 36.87817782917154,63.874877690685246L23.86480852369396,41.33506087594076A6,6 0 0,1 25.436289668621964,33.553663786381414A42.10526315789474,42.10526315789474 0 0,0 5.251641137855582,-41.77647006335924A6,6 0 0,1 2.6645352591003757e-15,-47.72961704738793Z" style="fill: rgb(204, 51, 128);"></path><path id="arc-center-5" class="arc-center" d="M3.738395492134026e-15,-61.05263157894738A61.05263157894738,61.05263157894738 0 0,1 30.52631578947368,52.87312991526048L30.52631578947368,52.87312991526048A61.05263157894738,61.05263157894738 0 0,0 3.738395492134026e-15,-61.05263157894738Z"></path><text dy=".35em" dx=".75em" style="text-anchor: start;"><textpath startOffset="50%" class="arc-text" href="#arc-center-5">Love</textpath></text></g></g></svg>
</body></html>
